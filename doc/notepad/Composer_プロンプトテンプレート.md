# Composer開発プロンプトテンプレート

#cursor #composer #プロンプト #開発指示 #R #tdd #git #テンプレート #bioinformatics

> [!NOTE]
> このファイルは[[Composer_ProjectRules_Cursor実装例]]から分離された、Rによるバイオインフォマティクス解析開発で使用するプロンプトテンプレート集です。具体例については [[Composer_具体例_TCGA解析パイプライン]] を参照してください。

## テンプレート

### TDDルールを使った関数開発テンプレート

```
TDDルールに従って、[機能名]を行うR関数を実装してください。
関数は以下の機能を持つこと：

1. 入力として[入力データ型]を受け取る
2. [必要なパッケージ]を使用する
3. 以下の処理を実装する：
   - [処理1の詳細]
   - [処理2の詳細]
   - [処理3の詳細]
4. 出力として[出力データ型]を返す
5. エラー処理と入力検証を含める
6. roxygen2形式のドキュメントを付ける

まず testthat を使ったテストコードから書き始め、TDDサイクルに従って実装してください。
モック関数やテストフィクスチャも適切に使用してください。
```


### パイプライン開発テンプレート

```
TDDルールに従って、[分析目的]のためのRパイプラインを設計・実装してください。
以下の要件を満たすパイプラインを構築してください：

1. 入力データ処理：
   - [データ形式]の読み込みと検証
   - 品質管理と前処理ステップ
2. コア解析モジュール：
   - [分析ステップ1]の実装
   - [分析ステップ2]の実装
   - [分析ステップ3]の実装
3. 結果の処理と可視化：
   - 統計サマリーの生成
   - 主要な図表の作成
   - 結果のエクスポート
4. パイプラインの制御と実行：
   - 設定ファイルによるパラメータ管理
   - エラーハンドリングとロギング
   - 再現性のための環境管理（renv統合）

各モジュールはテストファーストで開発し、統合テストによってパイプライン全体の機能を検証してください。
テストカバレッジ80%以上を目指し、テスト駆動の開発サイクルを厳守してください。
```

### ドキュメント作成テンプレート

```
RNA-seq解析パイプラインのドキュメントをプロジェクトルールに従って作成してください。以下の内容を含めてください：

1. 解析の目的と背景
2. データ前処理のステップ
3. 正規化方法の選択理由
4. 差分発現解析の詳細
5. 解釈のためのエンリッチメント解析
6. 再現性を確保するための手順
7. セッション情報の記録方法

R Markdownフォーマットで、コード例と出力例を含めてください。
実行可能なドキュメントとなるよう、全てのコードチャンクが独立して動作することを確認してください。
```

### Gitワークフローテンプレート

```
[解析プロジェクト名]を開発するための、完全なGitワークフロー手順を示してください：

1. 機能ブランチの作成とチェックアウト
2. 必要なパッケージのインストールとrenv.lockの更新
3. テストファーストでの実装手順
4. 適切なコミットメッセージの例
5. コード品質チェック（テスト実行、カバレッジ確認、スタイルチェック）
6. developブランチへのマージ準備（PR作成）
7. リリースのためのバージョンタグ付け

各ステップで実行すべき具体的なコマンドと、それぞれの目的を説明してください。
TDDとGitフローの原則に厳密に従ってください。
```

### バージョン管理とリリース計画テンプレート

```
[パッケージ/ワークフロー名]のバージョン[X.Y.Z]リリースに向けた計画を作成してください。以下の要素を含めてください：

1. リリースブランチの作成
2. バージョン番号更新（DESCRIPTION）
3. CHANGELOG.mdの更新方法
4. テスト実行と確認
5. ドキュメントの更新（vignettes、README）
6. 最終コミットとタグ付け
7. リリース後のhotfix対応手順

セマンティックバージョニングの原則に従い、プロジェクトのGit規約に準拠した形で計画を立ててください。
テスト駆動開発の原則がリリースプロセス全体を通して維持されるようにしてください。
